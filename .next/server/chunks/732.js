"use strict";exports.id=732,exports.ids=[732],exports.modules={51732:(e,a,s)=>{s.d(a,{Z:()=>N});var r=s(10326),t=s(17577),l=s(79635),d=s(26092),n=s(69508),i=s(5932),c=s(62881);let o=(0,c.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var m=s(94019),x=s(91216),u=s(12714);let h=(0,c.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var g=s(90772),p=s(33071),f=s(54432),y=s(45842),b=s(567),w=s(22798),j=s(23687);function N(){let{user:e,userData:a,refreshUserData:s}=(0,w.a)();if(!e)return r.jsx("div",{className:"text-center p-8",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No user found. Please log in."})});if(!a)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile data..."}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["User: ",e?.email]})]});let[c,N]=(0,t.useState)(!1),[v,k]=(0,t.useState)(!1),[P,C]=(0,t.useState)(!1),[Z,S]=(0,t.useState)(""),[A,M]=(0,t.useState)(""),[F,z]=(0,t.useState)(!1),[E,D]=(0,t.useState)(!1),[I,L]=(0,t.useState)({fullName:a?.fullName||"",username:a?.username||""}),[_,R]=(0,t.useState)({newPassword:"",confirmPassword:""}),U=async()=>{if(a&&e){if(!I.fullName.trim()||!I.username.trim()){S("Full name and username are required");return}if(I.username.length<3){S("Username must be at least 3 characters long");return}C(!0),S(""),M("");try{await (0,j.Lj)(e.uid,{fullName:I.fullName,username:I.username}),await s(),M("Profile updated successfully!"),N(!1)}catch(e){S(e.message||"Failed to update profile")}finally{C(!1)}}},q=async()=>{if(!_.newPassword||!_.confirmPassword){S("Please fill in all password fields");return}if(_.newPassword!==_.confirmPassword){S("Passwords do not match");return}C(!0),S(""),M("");try{await (0,j.Cp)(_.newPassword),M("Password changed successfully!"),k(!1),R({newPassword:"",confirmPassword:""})}catch(e){e.message.includes("requires-recent-login")?S("For security reasons, please use the 'Send Password Reset Email' option below to change your password."):S(e.message||"Failed to change password")}finally{C(!1)}},H=async()=>{if(!a?.email){S("No email address found");return}C(!0),S(""),M("");try{await (0,j.c0)(a.email),M("Password reset email sent! Check your inbox and follow the instructions to reset your password."),k(!1)}catch(e){S(e.message||"Failed to send password reset email")}finally{C(!1)}},O=()=>{N(!1),k(!1),L({fullName:a?.fullName||"",username:a?.username||""}),R({newPassword:"",confirmPassword:""}),S(""),M("")};return a?(0,r.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile Settings"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account information"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(p.Zb,{children:[(0,r.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)(p.ll,{className:"flex items-center gap-2",children:[r.jsx(l.Z,{className:"h-5 w-5"}),"Profile Information",a.isPremium&&(0,r.jsxs)(b.C,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white ml-2",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),!c&&(0,r.jsxs)(g.z,{variant:"outline",onClick:()=>N(!0),children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),(0,r.jsxs)(p.aY,{className:"space-y-4",children:[Z&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-md text-sm",children:Z}),A&&r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400 px-4 py-3 rounded-md text-sm",children:A}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y._,{htmlFor:"fullName",className:"dark:text-white",children:"Full Name"}),c?r.jsx(f.I,{id:"fullName",value:I.fullName,onChange:e=>L(a=>({...a,fullName:e.target.value})),placeholder:"Enter your full name",className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"}):r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-md text-gray-900 dark:text-white",children:a.fullName||"Not set"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y._,{htmlFor:"username",className:"dark:text-white",children:"Username"}),c?r.jsx(f.I,{id:"username",value:I.username,onChange:e=>L(a=>({...a,username:e.target.value})),placeholder:"Enter your username",className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"}):r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-md text-gray-900 dark:text-white",children:a.username||"Not set"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y._,{htmlFor:"email",className:"dark:text-white",children:"Email Address"}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-md flex items-center gap-2",children:[r.jsx(i.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:a.email}),r.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"(Cannot be changed)"})]})]}),c&&(0,r.jsxs)("div",{className:"flex gap-2 pt-4",children:[r.jsx(g.z,{onClick:U,disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(o,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),(0,r.jsxs)(g.z,{variant:"outline",onClick:O,children:[r.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),(0,r.jsxs)(p.Zb,{children:[(0,r.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between",children:[r.jsx(p.ll,{className:"dark:text-white",children:"Change Password"}),!v&&r.jsx(g.z,{variant:"outline",onClick:()=>k(!0),children:"Change Password"})]}),r.jsx(p.aY,{children:v?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y._,{htmlFor:"newPassword",className:"dark:text-white",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.I,{id:"newPassword",type:F?"text":"password",value:_.newPassword,onChange:e=>R(a=>({...a,newPassword:e.target.value})),placeholder:"Enter new password",className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"}),r.jsx("button",{type:"button",onClick:()=>z(!F),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:F?r.jsx(x.Z,{className:"h-4 w-4"}):r.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(y._,{htmlFor:"confirmPassword",className:"dark:text-white",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.I,{id:"confirmPassword",type:E?"text":"password",value:_.confirmPassword,onChange:e=>R(a=>({...a,confirmPassword:e.target.value})),placeholder:"Confirm new password",className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"}),r.jsx("button",{type:"button",onClick:()=>D(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:E?r.jsx(x.Z,{className:"h-4 w-4"}):r.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(g.z,{onClick:q,disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing..."]}):"Change Password"}),r.jsx(g.z,{variant:"outline",onClick:O,children:"Cancel"})]}),r.jsx("div",{className:"border-t pt-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx(h,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Alternative Method"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"If you're having trouble changing your password, you can receive a password reset email instead."}),r.jsx(g.z,{variant:"outline",size:"sm",onClick:H,disabled:P,className:"mt-2 border-blue-300 text-blue-700 hover:bg-blue-100 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/30",children:"Send Password Reset Email"})]})]})})]})]}):r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Click "Change Password" to update your account password.'})})]}),(0,r.jsxs)(p.Zb,{children:[r.jsx(p.Ol,{children:r.jsx(p.ll,{className:"dark:text-white",children:"Account Information"})}),(0,r.jsxs)(p.aY,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Account Created"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Updated"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.updatedAt?new Date(a.updatedAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Account Type"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.isPremium?"Premium Account":"Free Account"}),a.isPremium&&(0,r.jsxs)(b.C,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),"Premium"]})]})]}),a.isPremium&&a.premiumExpiresAt&&(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Premium Expires"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(a.premiumExpiresAt).toLocaleDateString()})]})]})]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-4rem)]",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})]})})}},567:(e,a,s)=>{s.d(a,{C:()=>n});var r=s(10326);s(17577);var t=s(79360),l=s(77863);let d=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...s}){return r.jsx("div",{className:(0,l.cn)(d({variant:a}),e),...s})}},54432:(e,a,s)=>{s.d(a,{I:()=>d});var r=s(10326),t=s(17577),l=s(77863);let d=t.forwardRef(({className:e,type:a,...s},t)=>r.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));d.displayName="Input"},45842:(e,a,s)=>{s.d(a,{_:()=>o});var r=s(10326),t=s(17577),l=s(45226),d=t.forwardRef((e,a)=>(0,r.jsx)(l.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var n=s(79360),i=s(77863);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...a},s)=>r.jsx(d,{ref:s,className:(0,i.cn)(c(),e),...a}));o.displayName=d.displayName},91216:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(62881).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5932:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(62881).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},69508:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},79635:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}};