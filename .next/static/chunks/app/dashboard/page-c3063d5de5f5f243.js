(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{23714:function(e,t,s){Promise.resolve().then(s.bind(s,52806))},52806:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ti}});var a=s(57437),r=s(2265),n=s(13665),i=s(99376),l=s(66070),o=s(62869),c=s(35974),d=s(60610),m=s(94508);let x=r.forwardRef((e,t)=>{let{className:s,value:r,...n}=e;return(0,a.jsx)(d.fC,{ref:t,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:(0,a.jsx)(d.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});x.displayName=d.fC.displayName;var h=s(99397),g=s(71769),u=s(96215),p=s(31047),f=s(91723),y=s(15868),b=s(18930);let j=(0,s(90535).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,m.cn)(j({variant:r}),s),...n})});v.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",s),...r})});N.displayName="AlertDescription";var w=s(25466),k=s(48736),D=s(92369),A=s(98728),S=s(33388),T=s(80804),C=s(12805),E=s(40875),Z=s(47692),O=s(962);let I=O.fC,P=O.wy,M=O.Fw;var F=s(98782);let R=[{id:"dashboard",label:"Dashboard",icon:w.Z},{id:"insight",label:"Insight",icon:u.Z},{id:"schedule",label:"Schedule",icon:p.Z},{id:"report",label:"Report",icon:k.Z},{id:"profile",label:"Profile",icon:D.Z},{id:"settings",label:"Settings",icon:A.Z}],_=[{id:"essay",label:"Essay Writing",icon:g.Z,color:"bg-purple-500"},{id:"coding",label:"Coding Project",icon:S.Z,color:"bg-blue-500"},{id:"presentation",label:"Presentation",icon:T.Z,color:"bg-green-500"},{id:"design",label:"Design Project",icon:C.Z,color:"bg-yellow-500"},{id:"research",label:"Research",icon:k.Z,color:"bg-red-500"}];function z(e){var t;let{currentView:s,onViewChange:n,onCreatePlanner:l,planners:c,onViewPlanner:d,userData:m}=e,[x,g]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1),f=(0,i.useRouter)(),y=()=>c.slice(0,5),b=async()=>{try{await (0,F.ni)(),f.push("/landing")}catch(e){console.error("Error logging out:",e)}},j=(null==m?void 0:m.username)||(null==m?void 0:null===(t=m.email)||void 0===t?void 0:t.split("@")[0])||"User",v=(null==m?void 0:m.email)||"No email",N=j.charAt(0).toUpperCase();return(0,a.jsxs)("div",{className:"h-full w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>p(!u),children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:N}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:j}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v})]}),(0,a.jsx)(E.Z,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(u?"rotate-180":"")})]}),u&&(0,a.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[(0,a.jsxs)("button",{onClick:()=>{n("profile"),p(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4"}),"View Profile"]}),(0,a.jsxs)("button",{onClick:b,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),"Logout"]})]})]})}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[R.map(e=>{let t=e.icon,r=s===e.id;return(0,a.jsxs)(o.z,{variant:r?"default":"ghost",className:"w-full justify-start gap-3 ".concat(r?"bg-gradient-to-r from-purple-500 to-blue-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>n(e.id),children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"flex-1 text-left",children:e.label})]},e.id)}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsxs)(I,{open:x,onOpenChange:g,children:[(0,a.jsx)(P,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"ghost",className:"w-full justify-between text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,a.jsx)("span",{className:"font-medium",children:"Projects"}),(0,a.jsx)(E.Z,{className:"h-4 w-4 transition-transform ".concat(x?"rotate-180":"")})]})}),(0,a.jsxs)(M,{className:"space-y-2 mt-2",children:[(0,a.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start gap-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:l,children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"New Project"})]}),_.map(e=>{e.icon;let t=c.filter(t=>t.assignmentType===e.id).length;return(0,a.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,a.jsx)("span",{className:"flex-1 text-sm text-gray-700 dark:text-gray-300",children:e.label}),t>0&&(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]},e.id)}),y().length>0&&(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 px-3",children:"Recent"}),y().map(e=>(0,a.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start gap-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 h-auto py-2",onClick:()=>d(e),children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("p",{className:"text-sm truncate",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.dueDate).toLocaleDateString()})]})]},e.id))]})]})]})})]})]})}var Y=s(92451),q=s(10407),L=s(82718);function U(e){let{planners:t}=e,[s,n]=(0,r.useState)(new Date),[i,c]=(0,r.useState)(new Date),d=e=>{let s=e.toISOString().split("T")[0],a=[];return t.forEach(e=>{var t;null===(t=e.tasks)||void 0===t||t.forEach(t=>{t.startDate<=s&&t.endDate>=s&&a.push({...t,plannerTitle:e.title})})}),a},m=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),x=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),h=e=>{n(t=>{let s=new Date(t);return s.setMonth(t.getMonth()+e),s})},g=()=>{let e=[];return t.slice(0,3).forEach(t=>{t.createdAt&&e.push({id:"created-".concat(t.id),type:"created",message:'Created "'.concat(t.title,'"'),time:new Date(t.createdAt).toLocaleDateString()})}),e.slice(0,5)};return(0,a.jsxs)("div",{className:"h-full w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"h-32 bg-gradient-to-br from-purple-400 via-pink-400 to-blue-400 relative overflow-hidden flex-shrink-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 text-white",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Stay Organized"}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Track your assignments"})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.ll,{className:"text-base",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]," ",s.getFullYear()]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>h(-1),className:"h-7 w-7 p-0",children:(0,a.jsx)(Y.Z,{className:"h-4 w-4"})}),(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>h(1),className:"h-7 w-7 p-0",children:(0,a.jsx)(q.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)(l.aY,{className:"pt-0",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center font-medium",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=m(s),r=x(s),n=[],l=new Date;for(let e=0;e<r;e++)n.push((0,a.jsx)("div",{className:"h-8"},"empty-".concat(e)));for(let r=1;r<=e;r++){let e=new Date(s.getFullYear(),s.getMonth(),r),o=e.toDateString()===l.toDateString(),m=e.toDateString()===i.toDateString(),x=d(e),h=t.some(t=>new Date(t.dueDate).toDateString()===e.toDateString());n.push((0,a.jsxs)("button",{onClick:()=>c(e),className:"h-8 w-8 rounded-full text-sm flex items-center justify-center relative transition-colors ".concat(m?"bg-purple-500 text-white":o?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[r,(x.length>0||h)&&(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-1.5 h-1.5 bg-red-500 rounded-full"})]},r))}return n})()}),i&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),d(i).length>0?(0,a.jsx)("div",{className:"space-y-1",children:d(i).slice(0,2).map((e,t)=>(0,a.jsx)("div",{className:"text-xs p-1.5 bg-purple-50 dark:bg-purple-900/20 rounded",children:(0,a.jsx)("p",{className:"font-medium text-purple-700 dark:text-purple-300 truncate",children:e.name})},t))}):(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No tasks scheduled"})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{className:"pb-3",children:(0,a.jsxs)(l.ll,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4"}),"Activity Feed"]})}),(0,a.jsx)(l.aY,{children:g().length>0?(0,a.jsx)("div",{className:"space-y-2",children:g().map(e=>(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.time})]},e.id))}):(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activity"})})]})]})]})}var B=s(64935),J=s(67410),G=s(38220),V=s(73618),H=s(22106),W=s(29202),K=s(32660),X=s(98617),$=s(82023),Q=s(58896),ee=s(95186);let et=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});et.displayName="Textarea";var es=s(26815),ea=s(50721);let er=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.fC,{className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(ea.bU,{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});er.displayName=ea.fC.displayName;var en=s(80822),ei=s(22135),el=s(30401);let eo=en.fC;en.ZA;let ec=en.B4,ed=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(en.xz,{ref:t,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,a.jsx)(en.JO,{asChild:!0,children:(0,a.jsx)(E.Z,{className:"h-4 w-4 opacity-50"})})]})});ed.displayName=en.xz.displayName;let em=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(en.u_,{ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(ei.Z,{className:"h-4 w-4"})})});em.displayName=en.u_.displayName;let ex=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(en.$G,{ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(E.Z,{className:"h-4 w-4"})})});ex.displayName=en.$G.displayName;let eh=r.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,a.jsx)(en.h_,{children:(0,a.jsxs)(en.VY,{ref:t,className:(0,m.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(em,{}),(0,a.jsx)(en.l_,{className:(0,m.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(ex,{})]})})});eh.displayName=en.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(en.__,{ref:t,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=en.__.displayName;let eg=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(en.ck,{ref:t,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(en.wU,{children:(0,a.jsx)(el.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(en.eT,{children:r})]})});eg.displayName=en.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(en.Z0,{ref:t,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=en.Z0.displayName;var eu=s(40257);let ep=(e,t)=>{let s="".concat(e," ").concat(t).toLowerCase();return s.match(/\b(code|coding|program|programming|software|app|website|algorithm|debug|implement|function|class|api|database|frontend|backend|fullstack|javascript|python|java|c\+\+|react|node|sql|html|css)\b/)?"coding":s.match(/\b(presentation|present|slide|pitch|demo|showcase|speak|talk|oral)\b/)?"presentation":s.match(/\b(lab|laboratory|experiment|test|analysis|data|results|hypothesis|method|procedure|observation)\b/)?"lab":s.match(/\b(math|mathematics|calculate|solve|equation|formula|proof|theorem|statistics|calculus|algebra)\b/)?"math":s.match(/\b(design|create|build|prototype|mockup|wireframe|ui|ux|graphic|visual|art|creative)\b/)?"design":s.match(/\b(research|study|investigate|analyze|survey|interview|data collection|literature review)\b/)?"research":s.match(/\b(report|summary|findings|documentation|technical writing|case study)\b/)?"report":"essay"},ef=(e,t,s)=>{let a=new Date(e),r=new Date,n=Math.ceil((a-r)/864e5),i=Math.max(1,Math.floor(Math.max(1,n-Math.max(1,Math.floor(n*(({coding:.15,presentation:.1,lab:.05,math:.1,design:.2,research:.15,report:.1,essay:.1})[s]||.1))))/t)),l=[],o=new Date(r);for(let e=0;e<t;e++){let e=new Date(o),t=new Date(o);t.setDate(t.getDate()+i-1),t>a&&t.setTime(a.getTime()),l.push({startDate:e.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}),o.setDate(o.getDate()+i)}return l},ey=async e=>{var t;console.log("Environment check:",{hasKey:!0,keyLength:39,allPublicVars:Object.keys(eu.env).filter(e=>e.startsWith("NEXT_PUBLIC_"))});let s="AIzaSyCAuwR6citWdJRc8kZCXQD0HZYsinKMzDU";if(!s)throw Error("Gemini AI is not configured. Please add your NEXT_PUBLIC_GEMINI_API_KEY to the .env.local file. You can get a free API key from https://makersuite.google.com/app/apikey");try{let a;let r=ep(e.title,e.topic),n=ej(e,r),i=await fetch("".concat("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent","?key=").concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error("Gemini API request failed: ".concat(i.status," ").concat(i.statusText,". ").concat((null===(t=e.error)||void 0===t?void 0:t.message)||""))}let l=await i.json();if(!l.candidates||!l.candidates[0]||!l.candidates[0].content)throw Error("Invalid response from Gemini API");let o=l.candidates[0].content.parts[0].text;try{let e=o.match(/\{[\s\S]*\}/);if(e)a=JSON.parse(e[0]);else throw Error("No JSON found in AI response")}catch(e){console.error("Failed to parse AI response:",o),a={tasks:[{name:"Research and Planning",description:"• Research the topic thoroughly using reliable sources\n• Create an outline or plan for your work\n• Identify key points and arguments\n• Organize your thoughts and materials",tip:"Start with reliable sources and organize your thoughts before diving into the work"},{name:"Initial Draft/Development",description:"• Create the first version of your work\n• Focus on getting ideas down without worrying about perfection\n• Follow your outline or plan\n• Don't edit while writing the first draft",tip:"Focus on getting your ideas down first, don't worry about perfection"},{name:"Review and Revision",description:"• Review your work for content and structure\n• Check if arguments are clear and well-supported\n• Reorganize sections if needed\n• Get feedback from others if possible",tip:"Take a break before reviewing to see it with fresh eyes"},{name:"Final Polish",description:"• Proofread for grammar, spelling, and formatting\n• Check all requirements are met\n• Ensure proper citation format\n• Prepare for submission",tip:"Check all requirements and formatting guidelines carefully"}]}}if(!a.tasks||!Array.isArray(a.tasks))throw Error("AI response missing required tasks array");let c=ef(e.dueDate,a.tasks.length,r),d=a.tasks.map((t,s)=>({id:"task-".concat(s,"-").concat(Date.now()),name:t.name||"Task ".concat(s+1),description:t.description||"",tip:e.showTips?t.tip||"":null,startDate:c[s].startDate,endDate:c[s].endDate,completed:!1}));return{title:e.title,topic:e.topic,dueDate:e.dueDate,assignmentType:r,requirements:e.requirements||"",deliverables:e.deliverables||"",resources:e.resources||"",showTips:e.showTips,tasks:d,createdAt:new Date().toISOString(),progress:0}}catch(e){throw console.error("Error generating plan:",e),Error("Failed to generate assignment plan: ".concat(e.message))}},eb=e=>{let t={coding:"You have extensive experience in software development, programming best practices, debugging, testing, and project management for coding assignments.",presentation:"You excel at presentation planning, content organization, visual design, public speaking preparation, and audience engagement strategies.",lab:"You are skilled in laboratory procedures, experimental design, data collection, analysis methods, and scientific reporting.",math:"You have deep expertise in mathematical problem-solving, proof techniques, computational methods, and mathematical communication.",design:"You specialize in design thinking, creative processes, prototyping, user experience, and iterative design methodologies.",research:"You are experienced in research methodologies, literature reviews, data collection, analysis techniques, and academic writing.",report:"You excel at technical writing, data presentation, executive summaries, and professional documentation.",essay:"You are skilled in academic writing, argumentation, research integration, and essay structure."};return"".concat("You are an expert academic and professional assistant specializing in breaking down complex assignments into manageable, actionable tasks."," ").concat(t[e]||t.essay,'\n\nCreate detailed, practical task breakdowns that students can follow step-by-step. Each task should be:\n- Specific and actionable\n- Appropriately scoped for the time available\n- Logically sequenced\n- Include helpful tips when requested\n\nIMPORTANT: Format all task descriptions as bullet point lists using "•" for better readability. Each step should be on a new line starting with "•".\n\nAlways respond with valid JSON in this exact format:\n{\n  "tasks": [\n    {\n      "name": "Clear, actionable task name",\n      "description": "• First step or action item\\n• Second step or action item\\n• Third step or action item\\n• Additional steps as needed",\n      "tip": "Helpful, specific advice for completing this task successfully"\n    }\n  ]\n}\n\nEnsure 4-8 tasks depending on assignment complexity. Make tasks realistic and achievable.')},ej=(e,t)=>{let s=eb(t);return"".concat(s,"\n\n").concat({coding:"This is a programming/coding assignment.",presentation:"This is a presentation assignment.",lab:"This is a laboratory/experimental assignment.",math:"This is a mathematics/problem-solving assignment.",design:"This is a design/creative assignment.",research:"This is a research assignment.",report:"This is a report/documentation assignment.",essay:"This is a written essay assignment."}[t]," Please create a detailed task breakdown for the following assignment:\n\n**Assignment Title:** ").concat(e.title,"\n\n**Assignment Description:** ").concat(e.topic,"\n\n**Due Date:** ").concat(e.dueDate,"\n\n").concat(e.requirements?"**Requirements:** ".concat(e.requirements):"","\n\n").concat(e.deliverables?"**Deliverables:** ".concat(e.deliverables):"","\n\n").concat(e.resources?"**Resources Available:** ".concat(e.resources):"","\n\n**Include Tips:** ").concat(e.showTips?"Yes - provide helpful tips for each task":"No",'\n\nPlease break this down into 4-8 specific, actionable tasks that will help the student complete this assignment successfully. Consider the assignment type and provide appropriate guidance for each step.\n\nEach task should be realistic and achievable within the timeframe available. Focus on practical steps the student can take immediately.\n\nREMEMBER: Format all descriptions as bullet point lists using "•" and "\\n" for line breaks.')};var ev=s(5978),eN=s(88213);let ew=async(e,t)=>{try{let s={title:t.title||"Untitled Assignment",topic:t.topic||"",dueDate:t.dueDate||new Date().toISOString().split("T")[0],assignmentType:t.assignmentType||"essay",requirements:t.requirements||"",deliverables:t.deliverables||"",resources:t.resources||"",showTips:!!t.showTips,tasks:Array.isArray(t.tasks)?t.tasks:[],progress:t.progress||0,userId:e,createdAt:(0,ev.Bt)(),updatedAt:(0,ev.Bt)()},a=await (0,ev.ET)((0,ev.hJ)(eN.db,"planners"),s);return{...t,id:a.id,userId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(e){if(console.error("Error saving planner to Firestore:",e),"permission-denied"===e.code)throw Error("permissions");throw Error("Failed to save planner: ".concat(e.message))}},ek=async e=>{try{let t=(0,ev.IO)((0,ev.hJ)(eN.db,"planners"),(0,ev.ar)("userId","==",e),(0,ev.Xo)("createdAt","desc")),s=await (0,ev.PL)(t),a=[];return s.forEach(e=>{let t=e.data();if(t&&t.title&&t.topic){var s,r,n,i,l,o;a.push({id:e.id,title:t.title,topic:t.topic,dueDate:t.dueDate,assignmentType:t.assignmentType||"essay",requirements:t.requirements||"",deliverables:t.deliverables||"",resources:t.resources||"",showTips:!!t.showTips,tasks:Array.isArray(t.tasks)?t.tasks:[],createdAt:(null===(n=t.createdAt)||void 0===n?void 0:null===(r=n.toDate)||void 0===r?void 0:null===(s=r.call(n))||void 0===s?void 0:s.toISOString())||new Date().toISOString(),updatedAt:(null===(o=t.updatedAt)||void 0===o?void 0:null===(l=o.toDate)||void 0===l?void 0:null===(i=l.call(o))||void 0===i?void 0:i.toISOString())||new Date().toISOString(),userId:t.userId,progress:t.progress||0})}}),a}catch(e){if(console.error("Error getting user planners:",e),"permission-denied"===e.code)return console.warn("Firestore permissions not configured, falling back to localStorage"),[];throw Error("Failed to get planners: ".concat(e.message))}},eD=async(e,t)=>{try{if(!e)throw Error("Planner ID is required");let s={updatedAt:(0,ev.Bt)()};void 0!==t.title&&(s.title=t.title),void 0!==t.topic&&(s.topic=t.topic),void 0!==t.dueDate&&(s.dueDate=t.dueDate),void 0!==t.assignmentType&&(s.assignmentType=t.assignmentType),void 0!==t.requirements&&(s.requirements=t.requirements),void 0!==t.deliverables&&(s.deliverables=t.deliverables),void 0!==t.resources&&(s.resources=t.resources),void 0!==t.showTips&&(s.showTips=!!t.showTips),void 0!==t.progress&&(s.progress=Number(t.progress)||0),void 0!==t.tasks&&(Array.isArray(t.tasks)?s.tasks=t.tasks.map(e=>({id:e.id||"task-".concat(Date.now(),"-").concat(Math.random()),name:e.name||"Untitled Task",description:e.description||"",tip:e.tip||null,startDate:e.startDate||new Date().toISOString().split("T")[0],endDate:e.endDate||new Date().toISOString().split("T")[0],completed:!!e.completed})):s.tasks=[]);let a=(0,ev.JU)(eN.db,"planners",e);await (0,ev.r7)(a,s)}catch(e){if(console.error("Error updating planner in Firestore:",e),"permission-denied"===e.code)throw Error("permissions");if("not-found"===e.code)throw Error("Planner not found");throw Error("Failed to update planner: ".concat(e.message))}},eA=async e=>{try{if(!e)throw Error("Planner ID is required");await (0,ev.oe)((0,ev.JU)(eN.db,"planners",e))}catch(e){if(console.error("Error deleting planner from Firestore:",e),"permission-denied"===e.code)throw Error("permissions");if("not-found"===e.code)throw Error("Planner not found");throw Error("Failed to delete planner: ".concat(e.message))}},eS={PLANNERS:"assignment_planners",PLANNER_COUNT:"planner_count",PAID_STATUS:"paid_status",NOTIFICATIONS:"notification_settings",USER_PREFERENCES:"user_preferences"},eT="essay-planners",eC="assignment_planners",eE=()=>"planner-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),eZ=e=>{try{let t=eO(),s={...e,id:e.id||eE(),createdAt:e.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),progress:e.progress||0},a=[...t,s];return localStorage.setItem(eT,JSON.stringify(a)),s}catch(e){throw console.error("Error saving planner locally:",e),Error("Failed to save planner locally")}},eO=()=>{try{let e=localStorage.getItem(eT);if(!e)return[];let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Error getting planners from localStorage:",e),[]}},eI=e=>{try{let t=eO().filter(t=>t.id!==e);localStorage.setItem(eT,JSON.stringify(t))}catch(e){throw console.error("Error deleting planner locally:",e),Error("Failed to delete planner locally")}},eP=()=>{try{let e=localStorage.getItem(eC);if(!e)return[];return JSON.parse(e).filter(e=>e&&"object"==typeof e&&e.id&&e.title&&Array.isArray(e.tasks))}catch(e){return console.error("Error loading planners from localStorage:",e),[]}},eM=e=>{try{let t=eP();e.id||(e.id=eE());let s=new Date().toISOString();e.createdAt||(e.createdAt=s),e.updatedAt=s,e.progress=eF(e.tasks);let a=t.findIndex(t=>t.id===e.id);return a>=0?t[a]=e:t.push(e),localStorage.setItem(eC,JSON.stringify(t)),e}catch(e){throw console.error("Error saving planner to localStorage:",e),Error("Failed to save planner locally")}},eF=e=>e&&0!==e.length?Math.round(e.filter(e=>e.completed).length/e.length*100):0,eR=()=>{try{let e=localStorage.getItem(eS.NOTIFICATIONS);return e?JSON.parse(e):{enabled:!1}}catch(e){return console.error("Error getting notification settings:",e),{enabled:!1}}},e_=e=>{try{localStorage.setItem(eS.NOTIFICATIONS,JSON.stringify(e))}catch(e){console.error("Error saving notification settings:",e)}},ez=()=>{try{Object.values(eS).forEach(e=>{localStorage.removeItem(e)})}catch(e){console.error("Error clearing data:",e)}},eY=[{value:"essay",label:"Essay/Research Paper",icon:k.Z,description:"Academic essays, research papers, literature reviews"},{value:"coding",label:"Programming Project",icon:B.Z,description:"Software development, coding assignments, algorithms"},{value:"presentation",label:"Presentation",icon:J.Z,description:"Slide presentations, oral presentations, pitches"},{value:"lab-report",label:"Lab Report",icon:G.Z,description:"Scientific experiments, lab analysis, research reports"},{value:"math",label:"Math/Problem Set",icon:V.Z,description:"Mathematical problems, calculations, proofs"},{value:"creative",label:"Creative Project",icon:C.Z,description:"Art projects, creative writing, design work"},{value:"music",label:"Music Assignment",icon:H.Z,description:"Compositions, music analysis, performance preparation"},{value:"language",label:"Language Assignment",icon:W.Z,description:"Foreign language exercises, translations, linguistics"},{value:"general",label:"General Assignment",icon:g.Z,description:"Any other type of academic assignment"}];function eq(e){let{onBack:t,onCancel:s,onPlannerCreated:i}=e,{user:d,userData:m}=(0,n.a)(),[x,h]=(0,r.useState)({title:"",topic:"",dueDate:"",assignmentType:"",requirements:"",deliverables:"",resources:"",showTips:!0}),[u,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async()=>{if(d)try{let e=await ek(d.uid);b(e.length)}catch(e){b(eP().length)}else b(eP().length)})()},[d]);let j=async e=>{if(e.preventDefault(),!x.title||!x.topic||!x.dueDate||!x.assignmentType){alert("Please fill in all required fields");return}if(d&&!(null==m?void 0:m.isPremium)&&y>=3){alert("You've reached the free limit of 3 planners. Upgrade to Premium for unlimited planners!");return}let t=new Date;if(new Date(x.dueDate)<t){alert("Due date cannot be in the past");return}f(!0);try{let e;let t=await ey(x);if(d)try{e=await ew(d.uid,t)}catch(s){console.error("Firestore save error:",s),e=eM({...t,userId:d.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),alert("Plan saved locally. Cloud sync will be available when you're online.")}else e=eM({...t,userId:"guest",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});i(e)}catch(e){console.error("Error generating plan:",e),e.message.includes("API key not configured")||e.message.includes("Gemini AI is not configured")?alert("AI service is not configured. Please check that your NEXT_PUBLIC_GEMINI_API_KEY is set in your .env.local file. You can get a free API key from https://makersuite.google.com/app/apikey"):e.message.includes("API request failed")?alert("Unable to connect to AI service. Please check your internet connection and try again."):alert("Failed to generate plan: ".concat(e.message))}finally{f(!1)}},v=(e,t)=>{h(s=>({...s,[e]:t}))},N=eY.find(e=>e.value===x.assignmentType),w=new Date().toISOString().split("T")[0];return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:t||s,children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create Assignment Plan"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Let AI help you break down any assignment into manageable steps"})]}),(null==m?void 0:m.isPremium)&&(0,a.jsxs)(c.C,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[(0,a.jsx)(X.Z,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),d&&!(null==m?void 0:m.isPremium)&&(0,a.jsx)(l.Zb,{className:"mb-6 border-orange-200 bg-orange-50 dark:bg-orange-900/20 dark:border-orange-800",children:(0,a.jsx)(l.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-bold",children:3-y})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-orange-800 dark:text-orange-200",children:[3-y," free planners remaining"]}),(0,a.jsx)("p",{className:"text-sm text-orange-600 dark:text-orange-300",children:"Upgrade to Premium for unlimited planners and advanced features"})]})]})})}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)($.Z,{className:"h-5 w-5 text-blue-500"}),"Assignment Details"]})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(es._,{htmlFor:"assignmentType",className:"flex items-center gap-2 dark:text-white",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"Assignment Type *"]}),(0,a.jsxs)(eo,{value:x.assignmentType,onValueChange:e=>v("assignmentType",e),children:[(0,a.jsx)(ed,{className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:(0,a.jsx)(ec,{placeholder:"Select assignment type"})}),(0,a.jsx)(eh,{className:"dark:bg-gray-800 dark:border-gray-600",children:eY.map(e=>{let t=e.icon;return(0,a.jsx)(eg,{value:e.value,className:"dark:text-white dark:focus:bg-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]})},e.value)})})]}),N&&(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:N.description})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(es._,{htmlFor:"title",className:"flex items-center gap-2 dark:text-white",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),"Assignment Title *"]}),(0,a.jsx)(ee.I,{id:"title",placeholder:"e.g., React Todo App, History Research Paper, Marketing Presentation",value:x.title,onChange:e=>v("title",e.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(es._,{htmlFor:"topic",className:"flex items-center gap-2 dark:text-white",children:[(0,a.jsx)(Q.Z,{className:"h-4 w-4"}),"Assignment Description *"]}),(0,a.jsx)(et,{id:"topic",placeholder:"Describe what you need to do, the main topic, objectives, and any specific instructions...",value:x.topic,onChange:e=>v("topic",e.target.value),rows:3,required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es._,{htmlFor:"requirements",className:"dark:text-white",children:"Requirements & Specifications"}),(0,a.jsx)(et,{id:"requirements",placeholder:"List specific requirements: word count, programming languages, tools, format, citations style, etc.",value:x.requirements,onChange:e=>v("requirements",e.target.value),rows:2,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es._,{htmlFor:"deliverables",className:"dark:text-white",children:"Deliverables & Output"}),(0,a.jsx)(et,{id:"deliverables",placeholder:"What should you submit? (e.g., PDF report, source code, presentation slides, demo video)",value:x.deliverables,onChange:e=>v("deliverables",e.target.value),rows:2,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es._,{htmlFor:"resources",className:"dark:text-white",children:"Resources & Materials"}),(0,a.jsx)(et,{id:"resources",placeholder:"List available resources: textbooks, datasets, APIs, software, research papers, etc.",value:x.resources,onChange:e=>v("resources",e.target.value),rows:2,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(es._,{htmlFor:"dueDate",className:"flex items-center gap-2 dark:text-white",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),"Due Date *"]}),(0,a.jsx)(ee.I,{id:"dueDate",type:"date",min:w,value:x.dueDate,onChange:e=>v("dueDate",e.target.value),required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(es._,{htmlFor:"showTips",className:"text-base font-medium dark:text-white",children:["Include Helpful Tips",(null==m?void 0:m.isPremium)&&(0,a.jsx)(c.C,{className:"ml-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white text-xs",children:"Enhanced"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get helpful advice and best practices for each step"})]}),(0,a.jsx)(er,{id:"showTips",checked:x.showTips,onCheckedChange:e=>v("showTips",e)})]}),(0,a.jsx)(o.z,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:u||d&&!(null==m?void 0:m.isPremium)&&y>=3,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Your Plan..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($.Z,{className:"h-4 w-4 mr-2"}),"Generate AI Plan"]})}),u&&(0,a.jsx)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"This may take a few moments while AI analyzes your assignment..."})]})})]}),(0,a.jsx)(l.Zb,{className:"mt-6",children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"\uD83D\uDCA1 Tips for Better Plans"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Be specific:"})," Include exact requirements, tools, and technologies needed"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Add context:"})," Mention your skill level and available time per day"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"List constraints:"})," Budget limits, software restrictions, or resource availability"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Include examples:"})," Reference similar projects or desired outcomes"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Mention evaluation:"})," How will this be graded or assessed?"]})]})]})})]})})}var eL=s(94766),eU=s(64022),eB=s(92735),eJ=s(41671),eG=s(25846),eV=s(9270);let eH=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eV.fC,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(eV.z$,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(el.Z,{className:"h-4 w-4"})})})});eH.displayName=eV.fC.displayName;let eW=async e=>{try{let t=(await Promise.all([s.e(505),s.e(632),s.e(337),s.e(553)]).then(s.t.bind(s,41690,23))).default,a=eK(e),r={margin:1,filename:"".concat(e.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),"_plan.pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};t().set(r).from(a).save()}catch(e){console.error("Error exporting PDF:",e),alert("Failed to export PDF. Please try again.")}},eK=e=>{let t=eX(e.tasks),s=new Date(e.dueDate).toLocaleDateString();return'\n    <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;">\n      <div style="text-align: center; margin-bottom: 30px; border-bottom: 2px solid #3b82f6; padding-bottom: 20px;">\n        <h1 style="color: #1f2937; margin-bottom: 10px;">\uD83D\uDCDA '.concat(e.title,'</h1>\n        <p style="color: #6b7280; font-size: 16px;">Assignment Plan Generated by EssayPlanner AI</p>\n        <p style="color: #6b7280; font-size: 14px;">Generated on: ').concat(new Date().toLocaleDateString(),'</p>\n      </div>\n      \n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 10px;">Assignment Overview</h2>\n        <div style="background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 15px 0;">\n          <p><strong>Due Date:</strong> ').concat(s,"</p>\n          <p><strong>Progress:</strong> ").concat(t,"% Complete</p>\n          ").concat(e.wordCount?"<p><strong>Target Word Count:</strong> ".concat(e.wordCount," words</p>"):"",'\n          <p><strong>Topic:</strong></p>\n          <p style="margin-left: 20px; line-height: 1.6;">').concat(e.topic,'</p>\n        </div>\n      </div>\n      \n      <div style="margin-bottom: 30px;">\n        <h2 style="color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 10px;">Task Breakdown</h2>\n        ').concat(e.tasks.map((t,s)=>'\n          <div style="margin: 20px 0; padding: 20px; border: 1px solid #e5e7eb; border-radius: 8px; '.concat(t.completed?"background-color: #f0fdf4;":"",'">\n            <div style="display: flex; align-items: center; margin-bottom: 10px;">\n              <span style="font-size: 18px; margin-right: 10px;">').concat(t.completed?"✅":"⭕",'</span>\n              <h3 style="margin: 0; color: #1f2937; ').concat(t.completed?"text-decoration: line-through; color: #6b7280;":"",'">').concat(t.name,"</h3>\n            </div>\n            \n            ").concat(t.description?'<p style="margin: 10px 0; line-height: 1.6; color: #374151;">'.concat(t.description,"</p>"):"",'\n            \n            <div style="margin: 15px 0; padding: 10px; background-color: #f3f4f6; border-radius: 4px;">\n              <p style="margin: 5px 0; font-size: 14px;"><strong>Start Date:</strong> ').concat(new Date(t.startDate).toLocaleDateString(),'</p>\n              <p style="margin: 5px 0; font-size: 14px;"><strong>End Date:</strong> ').concat(new Date(t.endDate).toLocaleDateString(),"</p>\n            </div>\n            \n            ").concat(t.tip&&e.showTips?'\n              <div style="margin-top: 15px; padding: 15px; background-color: #dbeafe; border-left: 4px solid #3b82f6; border-radius: 4px;">\n                <p style="margin: 0; font-size: 14px; color: #1e40af;"><strong>\uD83D\uDCA1 Writing Tip:</strong></p>\n                <p style="margin: 5px 0 0 0; font-size: 14px; line-height: 1.5; color: #1e40af;">'.concat(t.tip,"</p>\n              </div>\n            "):"","\n          </div>\n        ")).join(""),'\n      </div>\n      \n      <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center;">\n        <p style="color: #6b7280; font-size: 12px;">Generated by EssayPlanner AI - Your AI-Powered Assignment Assistant</p>\n        <p style="color: #6b7280; font-size: 12px;">Visit us at essayplanner.ai for more planning tools</p>\n      </div>\n    </div>\n  ')},eX=e=>e&&0!==e.length?Math.round(e.filter(e=>e.completed).length/e.length*100):0,e$=async()=>{if(!("Notification"in window))return console.warn("This browser does not support notifications"),"denied";if("granted"===Notification.permission)return"granted";if("denied"!==Notification.permission)try{return await Notification.requestPermission()}catch(e){return console.error("Error requesting notification permission:",e),"denied"}return Notification.permission},eQ=(e,t)=>{if(!("Notification"in window)||"granted"!==Notification.permission)return;let s=new Date(new Date(e.endDate));s.setDate(s.getDate()-1),s.setHours(9,0,0,0);let a=new Date,r=s.getTime()-a.getTime();r>0&&setTimeout(()=>{e0(e,t)},r)},e0=(e,t)=>{if("Notification"in window&&"granted"===Notification.permission)try{let s=new Notification("\uD83D\uDCDA Assignment Reminder: ".concat(t),{body:"Don't forget: ".concat(e.name," - Due tomorrow!"),icon:"/favicon.ico",badge:"/favicon.ico",tag:"task-".concat(e.name),requireInteraction:!0});s.onclick=()=>{window.focus(),s.close()},setTimeout(()=>{s.close()},1e4)}catch(e){console.error("Error showing notification:",e)}};function e2(e){let{planner:t,onBack:s,onUpdate:n}=e,[i,d]=(0,r.useState)(t),[m,h]=(0,r.useState)(!1),[g,u]=(0,r.useState)({}),[p,f]=(0,r.useState)(!1),y=async e=>{if(!i.tasks||e<0||e>=i.tasks.length){console.error("Invalid task index:",e);return}f(!0);try{let t=i.tasks.map((t,s)=>s===e?{...t,completed:!t.completed}:t),s=t.filter(e=>e.completed).length,a=Math.round(s/t.length*100),r={...i,tasks:t,progress:a};if(d(r),await eD(i.id,{tasks:t,progress:a}),n(r),m&&!i.tasks[e].completed){let e=r.tasks.find(e=>!e.completed);e&&eQ(e,i.title)}}catch(e){console.error("Error updating task:",e),d(i)}finally{f(!1)}},b=async(e,t,s)=>{if(i.tasks&&!(e<0)&&!(e>=i.tasks.length))try{let a=i.tasks.map((a,r)=>r===e?{...a,[t]:s}:a),r={...i,tasks:a};d(r),await eD(i.id,{tasks:a}),n(r)}catch(e){console.error("Error updating task date:",e)}},j=async()=>{m?h(!1):"granted"===await e$()&&(h(!0),i.tasks&&i.tasks.forEach(e=>{e.completed||eQ(e,i.title)}))},v=e=>{u(t=>({...t,[e]:!t[e]}))},N=e=>e?e.split("\n").filter(e=>e.trim()).map((e,t)=>{let s=e.replace(/^[•\-*]\s*/,"").trim();return s?(0,a.jsx)("li",{className:"mb-1",children:s},t):null}).filter(Boolean):"",w=i.tasks&&0!==i.tasks.length?Math.round(i.tasks.filter(e=>e.completed).length/i.tasks.length*100):0,k=(()=>{let e=new Date;return Math.ceil((new Date(i.dueDate)-e)/864e5)})();return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:s,children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.title}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Due: ",new Date(i.dueDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.z,{variant:"outline",onClick:j,children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eL.Z,{className:"h-4 w-4 mr-2"}),"Notifications On"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 mr-2"}),"Enable Notifications"]})}),(0,a.jsxs)(o.z,{onClick:()=>{eW(i)},children:[(0,a.jsx)(eB.Z,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),(0,a.jsx)(l.Zb,{className:"mb-8",children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Overall Progress"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Completed"}),(0,a.jsxs)("span",{className:"font-medium",children:[w,"%"]})]}),(0,a.jsx)(x,{value:w,className:"h-3"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Time Remaining"}),(0,a.jsx)(c.C,{variant:k<0?"destructive":k<=3?"secondary":"default",className:"text-lg px-3 py-1",children:k<0?"Overdue":0===k?"Due Today":"".concat(k," days left")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tasks Status"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.tasks?i.tasks.filter(e=>e.completed).length:0," of"," ",i.tasks?i.tasks.length:0," completed"]})]})]})})}),(0,a.jsxs)(l.Zb,{className:"mb-8",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Assignment Overview"})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.topic}),i.wordCount&&(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Target word count: ",i.wordCount," words"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Assignment Tasks"}),i.tasks&&i.tasks.map((e,t)=>(0,a.jsx)(l.Zb,{className:"transition-all ".concat(e.completed?"opacity-75":""),children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(eH,{checked:e.completed,onCheckedChange:()=>y(t),className:"mt-1",disabled:p}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold ".concat(e.completed?"line-through text-gray-500":"text-gray-900 dark:text-white"),children:e.name}),e.completed&&(0,a.jsxs)(c.C,{variant:"default",className:"bg-green-500",children:[(0,a.jsx)(eJ.Z,{className:"h-3 w-3 mr-1"}),"Complete"]})]}),e.description&&(0,a.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:(0,a.jsx)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:N(e.description)})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,a.jsx)(ee.I,{type:"date",value:e.startDate,onChange:e=>b(t,"startDate",e.target.value),disabled:e.completed})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,a.jsx)(ee.I,{type:"date",value:e.endDate,onChange:e=>b(t,"endDate",e.target.value),disabled:e.completed})]})]}),i.showTips&&e.tip&&(0,a.jsxs)(I,{children:[(0,a.jsx)(P,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"ghost",className:"p-0 h-auto font-normal text-blue-600 hover:text-blue-700",onClick:()=>v(t),children:[(0,a.jsx)(eG.Z,{className:"h-4 w-4 mr-2"}),g[t]?"Hide":"Show"," Writing Tips"]})}),(0,a.jsx)(M,{className:"mt-3",children:(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-l-4 border-blue-500",children:(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:e.tip})})})]})]})]})})},t))]}),100===w&&(0,a.jsx)(l.Zb,{className:"mt-8 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:(0,a.jsxs)(l.aY,{className:"p-6 text-center",children:[(0,a.jsx)(eJ.Z,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-green-800 dark:text-green-200 mb-2",children:"\uD83C\uDF89 Assignment Complete!"}),(0,a.jsx)("p",{className:"text-green-700 dark:text-green-300",children:"Congratulations! You've completed all tasks for this assignment."})]})})]})})}var e4=s(33327),e1=s(70525);function e5(e){let{planners:t}=e,s=(()=>{let e=t.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.length)||0)},0),s=t.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0)},0);return{totalTasks:e,completedTasks:s,overduePlanners:t.filter(e=>{var t;return new Date(e.dueDate)<new Date&&(null===(t=e.tasks)||void 0===t?void 0:t.some(e=>!e.completed))}).length,averageProgress:t.length>0?Math.round(t.reduce((e,t)=>{var s,a;let r=(null===(s=t.tasks)||void 0===s?void 0:s.length)||0,n=(null===(a=t.tasks)||void 0===a?void 0:a.filter(e=>e.completed).length)||0;return e+(r>0?n/r*100:0)},0)/t.length):0,completionRate:e>0?Math.round(s/e*100):0}})(),r=["essay","coding","presentation","design","research"].map(e=>{let s=t.filter(t=>t.assignmentType===e),a=s.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.length)||0)},0),r=s.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0)},0);return{type:e,count:s.length,progress:a>0?Math.round(r/a*100):0}}).filter(e=>e.count>0);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Insights & Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Track your productivity and progress"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Total Tasks"}),(0,a.jsx)(Q.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.totalTasks}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all assignments"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Completion Rate"}),(0,a.jsx)(e4.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[s.completionRate,"%"]}),(0,a.jsx)(x,{value:s.completionRate,className:"mt-2"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Average Progress"}),(0,a.jsx)(e1.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[s.averageProgress,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Per assignment"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Overdue"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:s.overduePlanners}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Assignments past due"})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Productivity by Assignment Type"]})}),(0,a.jsx)(l.aY,{children:r.length>0?(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"capitalize font-medium",children:e.type}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.count," assignments)"]})]}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.progress,"%"]})]}),(0,a.jsx)(x,{value:e.progress,className:"h-2"})]},e.type))}):(0,a.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No data available yet"})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Recent Activity"})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[t.slice(0,5).map(e=>{var t,s,r;let n=(null===(t=e.tasks)||void 0===t?void 0:t.length)?Math.round(e.tasks.filter(e=>e.completed).length/e.tasks.length*100):0;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(s=e.tasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0," of ",(null===(r=e.tasks)||void 0===r?void 0:r.length)||0," tasks"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{value:n,className:"w-20"}),(0,a.jsxs)("span",{className:"text-sm font-medium w-12 text-right",children:[n,"%"]})]})]},e.id)}),0===t.length&&(0,a.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No assignments yet"})]})})]})]})}function e3(e){let{onBack:t,planners:s}=e,[n,i]=(0,r.useState)(new Date),[d,m]=(0,r.useState)("month"),x=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),h=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),g=e=>{let t=e.toISOString().split("T")[0],a=[];return s.forEach(e=>{var s;e.dueDate===t&&a.push({type:"due",title:"".concat(e.title," - DUE"),planner:e.title,color:"bg-red-500"}),null===(s=e.tasks)||void 0===s||s.forEach(s=>{s.startDate<=t&&s.endDate>=t&&!s.completed&&a.push({type:"task",title:s.name,planner:e.title,color:"bg-blue-500"})})}),a},u=e=>{i(t=>{let s=new Date(t);return s.setMonth(t.getMonth()+e),s})};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:t,children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Schedule"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"View your assignment timeline"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5"}),["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]," ",n.getFullYear()]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>u(-1),children:(0,a.jsx)(Y.Z,{className:"h-4 w-4"})}),(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>i(new Date),children:"Today"}),(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>u(1),children:(0,a.jsx)(q.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(l.aY,{children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(p.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Assignments Scheduled"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your first assignment planner to see your schedule"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-0 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"p-2 text-center font-medium text-gray-600 dark:text-gray-400",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 dark:border-gray-700",children:(()=>{let e=x(n),t=h(n),s=[],r=new Date;for(let e=0;e<t;e++)s.push((0,a.jsx)("div",{className:"h-24 border border-gray-200 dark:border-gray-700"},"empty-".concat(e)));for(let t=1;t<=e;t++){let e=new Date(n.getFullYear(),n.getMonth(),t),i=e.toDateString()===r.toDateString(),l=g(e);s.push((0,a.jsxs)("div",{className:"h-24 border border-gray-200 dark:border-gray-700 p-1 ".concat(i?"bg-blue-50 dark:bg-blue-900/20":"bg-white dark:bg-gray-800"),children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-1 ".concat(i?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"),children:t}),(0,a.jsxs)("div",{className:"space-y-1",children:[l.slice(0,2).map((e,t)=>(0,a.jsx)("div",{className:"text-xs px-1 py-0.5 rounded text-white truncate ".concat(e.color),title:"".concat(e.title," - ").concat(e.planner),children:e.title},t)),l.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",l.length-2," more"]})]})]},t))}return s})()}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Due Dates"})]})]})]})})]}),(0,a.jsxs)(l.Zb,{className:"mt-6",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"Upcoming Deadlines"]})}),(0,a.jsx)(l.aY,{children:0===s.length?(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No upcoming deadlines"}):(0,a.jsx)("div",{className:"space-y-3",children:s.filter(e=>new Date(e.dueDate)>=new Date).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()).slice(0,5).map(e=>{let t=Math.ceil((new Date(e.dueDate).getTime()-new Date().getTime())/864e5);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,a.jsx)(c.C,{variant:t<=3?"destructive":"default",children:0===t?"Due Today":"".concat(t," days left")})]},e.id)})})})]})]})})}var e6=s(20464),e8=s(40370);function e7(e){let{planners:t}=e,[s,n]=(0,r.useState)("month"),i=(()=>{let e=t.length,s=t.filter(e=>{var t;return null===(t=e.tasks)||void 0===t?void 0:t.every(e=>e.completed)}).length,a=t.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.length)||0)},0),r=t.reduce((e,t)=>{var s;return e+((null===(s=t.tasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0)},0);return{totalAssignments:e,completedAssignments:s,inProgressAssignments:e-s,totalTasks:a,completedTasks:r,byType:{essay:t.filter(e=>"essay"===e.assignmentType).length,coding:t.filter(e=>"coding"===e.assignmentType).length,presentation:t.filter(e=>"presentation"===e.assignmentType).length,design:t.filter(e=>"design"===e.assignmentType).length,research:t.filter(e=>"research"===e.assignmentType).length},completionRate:e>0?Math.round(s/e*100):0,taskCompletionRate:a>0?Math.round(r/a*100):0}})();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Reports"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"View and export your assignment reports"})]}),(0,a.jsxs)(o.z,{onClick:()=>{let e=new Blob([JSON.stringify({generatedAt:new Date().toISOString(),period:s,summary:i,assignments:t.map(e=>{var t,s,a;return{title:e.title,type:e.assignmentType,dueDate:e.dueDate,progress:(null===(t=e.tasks)||void 0===t?void 0:t.length)?Math.round(e.tasks.filter(e=>e.completed).length/e.tasks.length*100):0,totalTasks:(null===(s=e.tasks)||void 0===s?void 0:s.length)||0,completedTasks:(null===(a=e.tasks)||void 0===a?void 0:a.filter(e=>e.completed).length)||0}})},null,2)],{type:"application/json"}),a=URL.createObjectURL(e),r=document.createElement("a");r.href=a,r.download="assignment-report-".concat(new Date().toISOString().split("T")[0],".json"),r.click()},children:[(0,a.jsx)(eB.Z,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:["week","month","semester","all"].map(e=>(0,a.jsx)(o.z,{variant:s===e?"default":"outline",onClick:()=>n(e),className:"capitalize",children:"all"===e?"All Time":"This ".concat(e)},e))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Total Assignments"}),(0,a.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:i.totalAssignments})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Completed"}),(0,a.jsx)(e6.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.completedAssignments}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[i.completionRate,"% completion rate"]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"In Progress"}),(0,a.jsx)(e1.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.inProgressAssignments})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Task Completion"}),(0,a.jsx)(e8.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[i.taskCompletionRate,"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[i.completedTasks," of ",i.totalTasks," tasks"]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Assignments by Type"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(i.byType).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"capitalize font-medium",children:t}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[s," assignments"]})]}),(0,a.jsx)(x,{value:i.totalAssignments>0?s/i.totalAssignments*100:0,className:"h-2"})]},t)})})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Assignment Details"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:t.length>0?t.map(e=>{var t,s,r;let n=(null===(t=e.tasks)||void 0===t?void 0:t.length)?Math.round(e.tasks.filter(e=>e.completed).length/e.tasks.length*100):0,i=Math.ceil((new Date(e.dueDate).getTime()-new Date().getTime())/864e5);return(0,a.jsxs)("div",{className:"border-b pb-4 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Type: ",e.assignmentType," | Due: ",new Date(e.dueDate).toLocaleDateString(),i>0&&" (".concat(i," days left)"),i<0&&" (".concat(Math.abs(i)," days overdue)")]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium",children:[n,"%"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(s=e.tasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0,"/",(null===(r=e.tasks)||void 0===r?void 0:r.length)||0," tasks"]})]})]}),(0,a.jsx)(x,{value:n,className:"h-2"})]},e.id)}):(0,a.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No assignments to report"})})})]})]})}var e9=s(88226),te=s(95805),tt=s(97226),ts=s(85929),ta=s(25922);function tr(e){let{onBack:t}=e,[s,d]=(0,r.useState)({enabled:!1}),[m,x]=(0,r.useState)(!1),{theme:h,setTheme:g}=(0,ta.F)(),{userData:u}=(0,n.a)(),p=(0,i.useRouter)();return((0,r.useEffect)(()=>{x(!0),d(eR())},[]),m)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:t,children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your preferences and account"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(e9.Z,{className:"h-5 w-5"}),"Account Status"]})}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:(null==u?void 0:u.isEnterprise)?"Enterprise Account":(null==u?void 0:u.isPremium)?"Premium Account":"Free Account"}),(null==u?void 0:u.isEnterprise)&&(0,a.jsxs)(c.C,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white",children:[(0,a.jsx)(te.Z,{className:"h-3 w-3 mr-1"}),"Enterprise"]}),(null==u?void 0:u.isPremium)&&!(null==u?void 0:u.isEnterprise)&&(0,a.jsxs)(c.C,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[(0,a.jsx)(X.Z,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null==u?void 0:u.isEnterprise)?"Unlimited planners, team collaboration, and enterprise features":(null==u?void 0:u.isPremium)?"Unlimited planners and premium features":"3 free planners available"}),((null==u?void 0:u.isPremium)||(null==u?void 0:u.isEnterprise))&&u.premiumExpiresAt&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(u.premiumExpiresAt).toLocaleDateString()]})]}),!(null==u?void 0:u.isPremium)&&!(null==u?void 0:u.isEnterprise)&&(0,a.jsxs)(o.z,{onClick:()=>{p.push("/premium")},className:"bg-gradient-to-r from-blue-600 to-indigo-600",children:[(0,a.jsx)(X.Z,{className:"h-4 w-4 mr-2"}),"Upgrade"]})]}),((null==u?void 0:u.isPremium)||(null==u?void 0:u.isEnterprise))&&(0,a.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:(0,a.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200",children:["✓ ",(null==u?void 0:u.isEnterprise)?"Enterprise":"Premium"," features active"]})})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(eL.Z,{className:"h-5 w-5"}),"Notifications"]})}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(es._,{htmlFor:"notifications",className:"text-base font-medium",children:"Browser Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get reminders about upcoming assignment deadlines"})]}),(0,a.jsx)(er,{id:"notifications",checked:s.enabled,onCheckedChange:e=>{let t={...s,enabled:e};d(t),e_(t)}})]}),s.enabled&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"You'll receive daily reminders about your active assignments"})})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:["dark"===h?(0,a.jsx)(tt.Z,{className:"h-5 w-5"}):(0,a.jsx)(ts.Z,{className:"h-5 w-5"}),"Appearance"]})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(es._,{className:"text-base font-medium",children:"Dark Mode"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Switch between light and dark themes"})]}),(0,a.jsx)(er,{checked:"dark"===h,onCheckedChange:e=>g(e?"dark":"light")})]})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5"}),"Data Management"]})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Clear All Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This will permanently delete all your planners and settings. This action cannot be undone."}),(0,a.jsxs)(o.z,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(ez(),alert("All data has been cleared."),t())},children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Clear All Data"]})]})})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"About AssignmentPlanner AI"})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)("p",{children:"Version 2.0.0"}),(0,a.jsx)("p",{children:"Built with AI to help students succeed with any assignment"}),(0,a.jsx)("p",{children:"Data is stored locally and synced to the cloud when available"}),(0,a.jsx)("p",{children:"Supports essays, coding projects, presentations, lab reports, and more"})]})})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:t,children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})]})})})}var tn=s(83049);function ti(){let{user:e,userData:t,loading:s}=(0,n.a)(),d=(0,i.useRouter)(),[m,j]=(0,r.useState)("dashboard"),[w,k]=(0,r.useState)([]),[D,A]=(0,r.useState)(null),[S,T]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),[Z,O]=(0,r.useState)(null),[I,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s||e||d.push("/login")},[e,s,d]),(0,r.useEffect)(()=>{e&&!C&&(M(),E(!0))},[e,C]);let M=async()=>{if(e){T(!0),O(null);try{let t=eO();t&&t.length>0&&(k(t),T(!1));try{let t=(await ek(e.uid)).filter(e=>e&&e.title&&e.topic&&Array.isArray(e.tasks));t.length>0&&k(t)}catch(e){console.log("Using local storage due to Firestore error")}}catch(e){console.error("Error loading planners:",e),k([])}finally{T(!1)}}},F=async t=>{if(e)try{let s;try{s=await ew(e.uid,t)}catch(e){console.error("Error saving to Firestore:",e),s=eZ(t),"permissions"!==e.message&&O("Saved locally. Sync when online.")}k(e=>[s,...e]),P(!1),A(s),j("planner")}catch(e){console.error("Error creating planner:",e),O("Failed to create planner: ".concat(e.message))}},R=async e=>{if(e)try{try{await eA(e)}catch(t){console.error("Error deleting from Firestore:",t),eI(e),"permissions"!==t.message&&O("Deleted locally. Will sync when online.")}k(t=>t.filter(t=>t.id!==e)),(null==D?void 0:D.id)===e&&(A(null),j("dashboard"))}catch(e){console.error("Error deleting planner:",e),O("Failed to delete planner: ".concat(e.message))}},_=e=>{A(e),j("planner")},Y=()=>w&&0!==w.length?Math.round(w.reduce((e,t)=>t.tasks&&0!==t.tasks.length?e+t.tasks.filter(e=>e.completed).length/t.tasks.length*100:e,0)/w.length):0;if(s||!e)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(I)return(0,a.jsx)(eq,{onPlannerCreated:F,onCancel:()=>P(!1)});if("planner"===m&&D)return(0,a.jsx)(e2,{planner:D,onBack:()=>{j("dashboard"),A(null)},onUpdate:e=>{k(t=>t.map(t=>t.id===e.id?e:t)),A(e)}});let q=["insight","schedule","report","settings","profile"].includes(m);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"fixed left-0 top-0 h-full w-64 z-10",children:(0,a.jsx)(z,{currentView:m,onViewChange:j,onCreatePlanner:()=>P(!0),planners:w,onViewPlanner:_,userData:t})}),(0,a.jsxs)("main",{className:"flex-1 ml-64 ".concat(q?"":"mr-80"," p-8"),children:[Z&&(0,a.jsx)(v,{className:"mb-6",children:(0,a.jsx)(N,{children:Z})}),"dashboard"===m&&(0,a.jsxs)("div",{className:"space-y-8 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome back, ",(null==t?void 0:t.username)||e.email,"!"]}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Manage your assignments and track your progress"})]}),(0,a.jsxs)(o.z,{onClick:()=>P(!0),size:"lg",className:"px-6 py-3",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"New Assignment"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Total Assignments"}),(0,a.jsx)(g.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:w.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active projects"})]})]}),(0,a.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Overall Progress"}),(0,a.jsx)(u.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold",children:[Y(),"%"]}),(0,a.jsx)(x,{value:Y(),className:"mt-3 h-2"})]})]}),(0,a.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Upcoming Deadlines"}),(0,a.jsx)(p.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:(()=>{if(!w||0===w.length)return[];let e=new Date;return w.filter(e=>e.dueDate).map(t=>({...t,daysUntilDue:Math.ceil((new Date(t.dueDate).getTime()-e.getTime())/864e5)})).filter(e=>e.daysUntilDue>=0).sort((e,t)=>e.daysUntilDue-t.daysUntilDue).slice(0,3)})().length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Due this week"})]})]})]}),(0,a.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-xl",children:"Your Assignments"})}),(0,a.jsx)(l.aY,{children:S?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===w.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No assignments yet"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first assignment to get started"}),(0,a.jsxs)(o.z,{onClick:()=>P(!0),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Create Assignment"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:w.map(e=>{let t=e.tasks&&e.tasks.length>0?Math.round(e.tasks.filter(e=>e.completed).length/e.tasks.length*100):0,s=Math.ceil((new Date(e.dueDate).getTime()-new Date().getTime())/864e5);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,a.jsx)(c.C,{variant:"essay"===e.assignmentType?"default":"secondary",children:e.assignmentType||"essay"}),(0,a.jsxs)(c.C,{variant:s<0?"destructive":s<=3?"secondary":"outline",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),s<0?"Overdue":0===s?"Due Today":"".concat(s," days left")]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.topic}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{value:t,className:"w-24 h-2"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t,"%"]})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>_(e),children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),"View"]}),(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>e.id&&R(e.id),children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]})]},e.id)})})})]})]}),"insight"===m&&(0,a.jsx)(e5,{planners:w}),"schedule"===m&&(0,a.jsx)(e3,{planners:w}),"report"===m&&(0,a.jsx)(e7,{planners:w}),"settings"===m&&(0,a.jsx)(tr,{}),"profile"===m&&(0,a.jsx)(tn.Z,{})]}),"dashboard"===m&&(0,a.jsx)("div",{className:"fixed right-0 top-0 h-full w-80 z-10",children:(0,a.jsx)(U,{planners:w})})]})})}}},function(e){e.O(0,[609,15,351,121,324,617,333,49,971,117,744],function(){return e(e.s=23714)}),_N_E=e.O()}]);